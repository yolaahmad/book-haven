<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/signup.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <title>Book-Haven</title>
  </head>
  <body>
    <video autoplay muted loop>
      <source src="images/background1.mp4" type="video/mp4" />
    </video>
    <main class="m-cont">
      <!-- Sign Up Form -->
      <div class="container sign-up" id="sign-up">
        <form action="insert.php" method="POST" class="f_container">
          <img src="images/book.png" />
          <h2>Sign Up</h2>
          <label for="username">Username: </label>
          <input
            type="text"
            name="username"
            id="username"
            placeholder="Enter your username"
            required
          />
          <label for="email">Email:</label>
          <input
            type="email"
            name="email"
            id="email"
            placeholder="Enter your email address"
            required
          />
          <label for="password">Password:</label>
          <div class="icon">
            <input
              type="password"
              name="password"
              placeholder="Enter your password"
              id="PassInput"
              required
            />
            <img
              src="images/eye-fill.svg"
              onclick="togglePass()"
              id="eyeIcon"
            />
            <img
              src="images/eye-slash-fill.svg"
              onclick="togglePass()"
              id="hidePass"
              style="display: none"
            />
          </div>
          <input type="submit" id="sub-btn" value="Submit" />
          <p>Already a member? <a href="#" id="login-link">Login</a></p>
        </form>

        <!-- Username Format Modal -->
        <div id="usernameFormatModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closeUsernameFormatModal">&times;</span>
            <div class="image-circle">
              <img src="images/exclamation-triangle-fill.svg" />
            </div>
            <p>
              Invalid username format. Please use only letters and numbers, 3-20
              characters long.
            </p>
          </div>
        </div>

        <!-- Email Format Modal -->
        <div id="emailFormatModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closeEmailFormatModal">&times;</span>
            <div class="image-circle">
              <img src="images/exclamation-triangle-fill.svg" />
            </div>
            <p>Invalid email format. Please enter a valid email address.</p>
          </div>
        </div>

        <!-- Password Length Modal -->
        <div id="passwordLengthModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closePasswordLengthModal">&times;</span>
            <div class="image-circle">
              <img src="images/exclamation-triangle-fill.svg" />
            </div>
            <p>Password should be at least 8 characters long.</p>
          </div>
        </div>

        <div id="usernameExistsModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closeUsernameExistsModal">&times;</span>
            <div class="image-circle">
              <img src="images/exclamation-triangle-fill.svg" />
            </div>
            <p>Username already exists. Please choose another one.</p>
          </div>
        </div>
      </div>

      <!-- Login Form -->
      <div class="container login" id="login">
        <form action="login.php" method="POST" class="f_container">
          <img src="images/book.png" />
          <h2>Login</h2>
          <label for="username-login">Username:</label>
          <input
            type="text"
            name="username-login"
            id="username-login"
            placeholder="Enter your username"
            required
          />
          <label for="password-login">Password:</label>
          <div class="icon">
            <input
              type="password"
              name="password-login"
              placeholder="Enter your password"
              id="PassInput2"
              required
            />
            <img
              src="images/eye-fill.svg"
              onclick="togglePass2()"
              id="eyeIcon2"
            />
            <img
              src="images/eye-slash-fill.svg"
              onclick="togglePass2()"
              id="hidePass2"
              style="display: none"
            />
          </div>
          <div class="reset">
            <span id="forgotPass" onclick="displayReset()"
              ><a href="#">Forgot Password?</a></span
            >
          </div>
          <input type="submit" id="login-btn" value="Login" />
          <p>Are you a new user? <a href="#" id="sign-link">Sign Up</a></p>
        </form>
      </div>

      <!--Password Reset container-->
      <div class="reset-pass" id="resetPass">
        <form action="recover_password.php" method="POST" class="r_container">
          <span
            class="closePass"
            id="closeResetPassModal"
            onclick="closeResetPass()"
            >&times;</span
          >
          <img src="images/book.png" />
          <h2>Reset Password</h2>
          <input
            type="text"
            name="recovery_key"
            id="recovery_key"
            placeholder="Enter recovery key"
            required
          />
          <div class="icon">
            <input
              type="password"
              name="new_password"
              id="new_password"
              placeholder="Enter new password"
              required
              minlength="8"
            />
            <img
              src="images/eye-fill.svg"
              onclick="togglePass3()"
              id="eyeIcon3"
            />
            <img
              src="images/eye-slash-fill.svg"
              onclick="togglePass3()"
              id="hidePass3"
              style="display: none"
            />
          </div>

          <button type="submit" id="reset-btn">Submit</button>
        </form>

        <!-- Invalid Recovery Key Modal -->
        <div id="invalidRecoveryKeyModal" class="modal">
          <div class="modal-content">
            <span class="close" id="closeInvalidRecoveryKeyModal">&times;</span>
            <div class="image-circle">
              <img src="images/exclamation-triangle-fill.svg" />
            </div>
            <p>Invalid recovery key. Please try again.</p>
          </div>
        </div>

        <!-- Password Updated Successfully Modal -->
        <div id="passwordUpdatedModal" class="modal2 modal">
          <div class="modal-content2">
            <span class="close" id="closePasswordUpdatedModal">&times;</span>
            <div class="image-circle2">
              <img src="images/check-circle-fill.svg" />
            </div>
            <p>
              Password updated successfully.
              <a href="signUp.html" style="color: blue; font-weight: 600"
                >Login</a
              >
            </p>
          </div>
        </div>
      </div>
    </main>

    <div id="emptyFieldsModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeEmptyFieldsModal">&times;</span>
        <div class="image-circle">
          <img src="images/exclamation-triangle-fill.svg" />
        </div>
        <p>Please fill in all fields.</p>
      </div>
    </div>

    <!-- Username Not Found Modal -->
    <div id="usernameNotFoundModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeUsernameNotFoundModal">&times;</span>
        <div class="image-circle">
          <img src="images/exclamation-triangle-fill.svg" />
        </div>
        <p>Username not found. Please check your username and try again.</p>
      </div>
    </div>

    <!-- Invalid Password Modal -->
    <div id="invalidPasswordModal" class="modal">
      <div class="modal-content">
        <span class="close" id="closeInvalidPasswordModal">&times;</span>
        <div class="image-circle">
          <img src="images/exclamation-triangle-fill.svg" />
        </div>
        <p>Invalid password. Please try again.</p>
      </div>
    </div>
    <script src="login.js"></script>
  </body>
</html>
